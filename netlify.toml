[Settings]
# Added automatically by the Netlify CLI. It has no effect during normal
# Git-backed deploys.
ID = "Your_Site_ID"

# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for package.json/.nvmrc/etc.
  base = "/"

  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build. If a base directory has
  # been specified, include it in the publish directory path.
  publish = "dist"

  # Default build command.
  command = "cd ui-storage && yarn && yarn build && cp index.html dist/ && mv dist/ ../static/storage/ && cd .. && rm public/index.html && rm src/.config.js && cp src/.config-master.js src/.config.js && cp public/index-master.html public/index.html && sed -i -e \"s/favicon\\//favicon${FAVICON_SUFFIX}\\//g\" public/index.html && yarn && yarn build$BUILD_SUFFIX && cp -R static dist/static"

  # Directory with the lambda functions to deploy to AWS.
  functions = "project/functions/"

# The following redirect is intended for use with most SPAs that handle
# routing internally.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/service.worker.js"

  [headers.values]
      Cache-Control = 'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0'
